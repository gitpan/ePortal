%#============================================================================
%# ePortal - WEB Based daily organizer
%# Author - S.Rusakov <rusakov_sa@users.sourceforge.net>
%#
%# Copyright (c) 2001 Sergey Rusakov.  All rights reserved.
%# This program is free software; you can redistribute it
%# and/or modify it under the same terms as Perl itself.
%#
%# $Revision: 3.1 $
%# $Date: 2003/04/24 05:36:52 $
%# $Header: /home/cvsroot/ePortal/comp_root/catalog/go.htm,v 3.1 2003/04/24 05:36:52 ras Exp $
%#
%#----------------------------------------------------------------------------
<& /message.mc &>

%#=== @metags onStartRequest ====================================================
<%method onStartRequest><%perl>
  my $link = $ARGS{link};
  if ( $link ) {
    my $c = new ePortal::Catalog;
    my $location = $c->ClickTheLink( $link );
    logline('warn', "Redirect: ", $location);
    return $location if $location;

    $session{ErrorMessage} = pick_lang(
      rus => "”казанный ресурс не найден", eng => "Resource not found");
  }
</%perl></%method>


